<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Employee Information Portal</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" integrity="sha512-LgW8iP5wm+xzRYY5tUpHKFXOWw8d21xSXXt2LHeNCi/dDbfW8j4z4I4b+j4euO/ZoJmE8B1SjI2eOvVRlY4l0A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <a href="index.html" class="back-button"">Back</a>
    <div class="logo">
      <img src="teleperformance-vector-logo.png" alt="Employee Icon" width="450">
    </div>
    <div class="details">
      <img src="Sample.jpeg" alt="Employee Photo">
      <table>
        <tr>
          <th>Name</th>
          <td>Chia Suen Tee</td>
        </tr>
        <tr>
          <th>Phone</th>
          <td>123456789</td>
        </tr>
        <tr>
          <th>Email</th>
          <td>cst@example.com</td>
        </tr>
        <tr>
          <th>Department</th>
          <td>RPA</td>
        </tr>
        <tr>
          <th>Position</th>
          <td>RPA Developer</td>
        </tr>
      </table>
      
    <table id="bills-table">
  <thead>
    <tr>
      <th>Bill Date</th>
      <th>Amount</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2022-01-01</td>
      <td>$100.00</td>
      <td>
        <button onclick="openPopup(100)">View Details</button>
      </td>
    </tr>
    <tr>
      <td>2022-02-01</td>
      <td>$90.00</td>
      <td>
        <button onclick="openPopup(90)">View Details</button>
      </td>
    </tr>
  </tbody>
</table>

<script>
 function openPopup(cost) {
  // Generate the breakdown table for the bill
  var breakdownTable = '<table id="breakdownTBL">';
  breakdownTable += '<tr><th>Item</th><th>Cost</th></tr>';

  if (cost > 0) {
    var package = cost * 0.8;
    breakdownTable += '<tr><td>Data Package</td><td>$' + package.toFixed(2) + '</td></tr>';

    var call = cost * 0.2;
    breakdownTable += '<tr><td>Call</td><td>$' + call.toFixed(2) + '</td></tr>';

    var total = parseFloat(package) + parseFloat(call);
    breakdownTable += '<tr><td>Total</td><td>$' + total.toFixed(2) + '</td></tr>';
  } else {
    breakdownTable += '<tr><td colspan="2">No bill</td></tr>';
  }

  breakdownTable += '</table>';

  // Open the popup window and write the breakdown table to it
  var popupWindow = window.open('./popup.html', 'popupWindow', 'width=400, height=300');

  // Convert the string to an HTML element
  var range = popupWindow.document.createRange();
  range.setStart(popupWindow.document.body, 0);
  var fragment = range.createContextualFragment(breakdownTable);

  // Append the element to the popup window
  popupWindow.document.body.appendChild(fragment);
}
</script>
    </div>
  </div>
</body>
</html>
